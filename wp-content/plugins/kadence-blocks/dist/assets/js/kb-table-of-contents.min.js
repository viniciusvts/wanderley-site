!function(){"use strict";window.kadenceTOC={initAddAnchors:function(){var e=JSON.parse(kadence_blocks_toc.headings);for(let n=0;n<e.length;n++){var t=document.querySelectorAll("h"+e[n].level);if(!t.length)return;for(let o=0;o<t.length;o++)t[o].textContent.includes(e[n].content)&&t[o].setAttribute("id",e[n].anchor)}},toggleAttribute:function(e,t,n,o){void 0===n&&(n=!0),void 0===o&&(o=!1),e.getAttribute(t)!==n?e.setAttribute(t,n):e.setAttribute(t,o)},toggleClass:function(e,t,n){void 0===t&&(t="active"),void 0===n&&(n="hidden"),e.classList.contains(t)?(e.classList.remove(t),e.classList.add(n)):(e.classList.add(t),e.classList.remove(n))},initCollapse:function(){var e=document.querySelectorAll(".kb-collapsible-toc");if(e.length)for(let n=0;n<e.length;n++){var t=e[n].querySelector(".kb-table-of-contents-icon-trigger");t.onclick=()=>{window.kadenceTOC.toggleAttribute(t,"aria-expanded","true","false"),window.kadenceTOC.toggleAttribute(t,"aria-label",kadence_blocks_toc.collapseText,kadence_blocks_toc.expandText),window.kadenceTOC.toggleClass(e[n],"kb-toc-toggle-active","kb-toc-toggle-hidden")}}},scrollToElement(e,t,n=!0){var o=Math.floor(e.getBoundingClientRect().top)-t;window.scrollBy({top:o,left:0,behavior:"smooth"});var i=setInterval((function(){var o=window.innerHeight+window.pageYOffset>=document.body.offsetHeight-2;(Math.floor(e.getBoundingClientRect().top)-t==0||o)&&(e.focus(),n&&window.history.pushState("","","#"+e.id),clearInterval(i))}),100)},initScroll:function(){var e=document.querySelectorAll(".kb-toc-smooth-scroll");if(e.length)for(let o=0;o<e.length;o++){var t=parseInt(e[o].getAttribute("data-scroll-offset")),n=e[o].querySelectorAll("a.kb-table-of-contents__entry");for(let e=0;e<n.length;e++)n[e].onclick=e=>{if(e.target.getAttribute("href"))var n=e.target;else{if(!(n=e.target.closest("a")))return;if(!n.getAttribute("href"))return}var o=n.getAttribute("href").substring(n.getAttribute("href").indexOf("#")),i=document.getElementById(o.replace("#",""));i&&(e.preventDefault(),window.kadenceTOC.scrollToElement(i,t))}}},init:function(){window.kadenceTOC.initAddAnchors(),window.kadenceTOC.initCollapse(),window.kadenceTOC.initScroll()}},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",window.kadenceTOC.init):window.kadenceTOC.init()}();